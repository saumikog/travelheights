<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Review - Tourist Guide Narendra Kumar Verma</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="icon" href="images/logo.jpg" type="image/jpeg">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" /> <!-- Link to your existing styles.css -->
  <style>
    /* Import Google Font - already in styles.css, but good to keep for clarity if this was standalone */
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

    /* Global Reset - already in styles.css, but good to keep for clarity if this was standalone */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Poppins", sans-serif;
    }

    /* Body adjustments for scrolling and footer placement */
    body {
      /* Premium gradient background */
      background: linear-gradient(135deg, #f0f4f8 0%, #d9e2ec 100%);
      
      /* Flexbox for overall page layout (nav, main-content, footer) */
      display: flex;
      flex-direction: column;
      min-height: 100vh; /* Ensure body takes full viewport height */
      
      /* Allow scrolling, but hide horizontal overflow as per styles.css */
      overflow-x: hidden; 
      /* overflow-y will default to auto, allowing vertical scrolling */

      padding: 0; /* Remove body padding, let main-content handle spacing */
    }

    /* Main content wrapper to center the review card */
    .main-content {
      flex-grow: 1; /* Allows this div to take up all available space */
      display: flex;
      justify-content: center; /* Center horizontally */
      align-items: center; /* Center vertically */
      padding: 20px; /* Padding around the review card */
      width: 100%; /* Ensure it takes full width */
    }

    /* Review Card with a clean, solid background and subtle shadow */
    .review-card {
      background: #ffffff;
      border-radius: 16px;
      padding: 40px;
      width: 100%;
      max-width: 500px;
      /* Enhanced Google-style shadow for depth */
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1), 0 10px 20px rgba(0, 0, 0, 0.05);
      text-align: center;
      animation: cardFadeIn 1s ease-out forwards; /* More dynamic animation */
      border: 1px solid #e0e0e0;
      position: relative; /* For loading spinner */
      
      /* Removed auto margins, centering handled by .main-content */
    }

    /* Standard dark grey heading */
    .review-heading {
      font-size: 2rem; /* Slightly larger */
      font-weight: 700;
      margin-bottom: 25px;
      color: #202124;
      letter-spacing: -0.5px; /* Tighter for premium feel */
    }

    .review-heading span {
      font-size: 1.1rem; /* Slightly larger */
      color: #5f6368;
      display: block;
      margin-top: 8px;
      font-weight: 400;
    }

    /* Form Fields Styling */
    .form-group {
      margin-bottom: 25px; /* Increased margin */
      text-align: left;
      position: relative; /* For floating label */
    }

    .form-group label {
      color: #5f6368;
      margin-bottom: 8px;
      display: block;
      font-weight: 600;
      font-size: 0.95rem;
      transition: all 0.2s ease;
      position: absolute; /* For floating label */
      top: 14px;
      left: 15px;
      pointer-events: none; /* Allow clicks through label */
      background: #fff; /* To cover input background when floating */
      padding: 0 5px;
      z-index: 1;
    }

    .form-group input,
    .form-group textarea {
      width: 100%;
      padding: 14px 15px;
      border: 1px solid #dadce0;
      border-radius: 8px;
      background: #f8f9fa;
      font-size: 16px; /* Standard size for better UX */
      color: #202124;
      outline: none;
      transition: all 0.2s ease;
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.06); /* Subtle inner shadow */
    }
    
    .form-group input::placeholder,
    .form-group textarea::placeholder {
      color: transparent; /* Hide placeholder for floating label */
    }

    /* Floating label effect */
    .form-group input:focus + label,
    .form-group textarea:focus + label,
    .form-group input:not(:placeholder-shown) + label,
    .form-group textarea:not(:placeholder-shown) + label {
      top: -10px;
      font-size: 0.8rem;
      color: #1a73e8;
      font-weight: 500;
    }

    .form-group input:focus,
    .form-group textarea:focus {
      border-color: #1a73e8;
      box-shadow: 0 0 0 3px rgba(26, 115, 232, 0.2), inset 0 1px 3px rgba(0,0,0,0.06); /* Enhanced focus shadow */
      background: #ffffff;
    }

    /* Custom Scrollbar for Textarea (Webkit) */
    .form-group textarea::-webkit-scrollbar {
      width: 8px;
    }

    .form-group textarea::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }

    .form-group textarea::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 10px;
    }

    .form-group textarea::-webkit-scrollbar-thumb:hover {
      background: #555;
    }

    /* Rating Section */
    .rating {
      text-align: center;
      margin-bottom: 15px; /* Adjust margin */
    }

    .rating-label {
      color: #5f6368;
      margin-bottom: 10px; /* Increased margin for spacing */
      display: block;
      font-weight: 600;
      font-size: 0.95rem;
    }

    .stars {
      font-size: 2.5rem; /* Larger stars */
      color: #bdc1c6;
      cursor: pointer;
      transition: color 0.3s ease, transform 0.2s ease;
      display: inline-block; /* For individual scaling */
      margin-top: 5px; /* Added margin to separate from label */
    }
    
    .stars:hover {
        transform: scale(1.2); /* More pronounced hover */
    }

    .stars.active,
    .stars.hover {
      color: #FBC02D;
      transform: scale(1.1); /* Keep active stars slightly larger */
    }

    .rating-text {
        margin-top: 10px;
        font-size: 0.9rem;
        color: #5f6368;
        min-height: 18px; /* Prevent layout shift */
    }

    /* Character Counter */
    .char-counter {
        font-size: 0.8rem;
        color: #80868b;
        text-align: right;
        margin-top: 5px;
    }

    /* Submit Button with Google's blue */
    .submit-btn {
      width: 100%;
      padding: 14px;
      border: none;
      border-radius: 8px;
      font-size: 1.05rem; /* Slightly larger text */
      font-weight: 600;
      color: #fff;
      background-color: #1a73e8;
      cursor: pointer;
      transition: background-color 0.2s ease, box-shadow 0.2s ease, transform 0.1s ease;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 8px;
    }

    .submit-btn:hover {
      background-color: #185abc;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }

    .submit-btn:active {
        transform: translateY(1px); /* Press effect */
    }

    /* Loading Spinner */
    .spinner {
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-top: 3px solid #fff;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      animation: spin 1s linear infinite;
      display: none; /* Hidden by default */
    }

    .submit-btn.loading .spinner {
      display: block;
    }

    .submit-btn.loading span {
      visibility: hidden; /* Hide text when loading */
    }

    /* Success/Error Popup */
    .popup {
      position: fixed;
      top: 20px;
      right: -400px; /* Start off-screen */
      background: #4caf50;
      color: #fff;
      padding: 15px 25px;
      border-radius: 8px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
      font-weight: 600;
      opacity: 0;
      transition: all 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Bouncy transition */
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .popup.show {
      right: 20px;
      opacity: 1;
    }

    /* Inline Error Message */
    .error-message {
        color: #d93025; /* Google's error red */
        font-size: 0.85rem;
        margin-top: 5px;
        text-align: left;
        display: none; /* Hidden by default */
    }

    .error-message.show {
        display: block;
    }

    /* Animations */
    @keyframes cardFadeIn {
      from {
        transform: translateY(50px) scale(0.95);
        opacity: 0;
      }
      to {
        transform: translateY(0) scale(1);
        opacity: 1;
      }
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>

  <!-- NAVIGATION -->
  <nav>
    <div class="container nav-container">
      <a href="index.html"><img src="images/logo.jpg" alt="Logo" class="logo"></a>
      <!-- Social icons for mobile nav -->
      <div class="mobile-social-icons">
        <a href="mailto:travelhghts98@gmail.com" aria-label="Gmail"><i class="fa fa-envelope"></i></a>
        <a href="https://wa.me/919557824127" target="_blank" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
        <a href="https://www.instagram.com/" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
      </div>

      <!-- Restoring original GIF menu button -->
      <button class="menu-toggle" aria-label="Open Menu">
        <img src="images/menu.gif" alt="Menu" class="menu-icon">
      </button>

      <ul class="nav-links">
        <li><a href="index.html" >Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="tours.html" class="tour-highlight">Tour Packages</a></li>
        <li><a href="gallery.html">Gallery</a></li>
        <li><a href="testimonials.html">Testimonials</a></li>
        <li><a href="review.html" class="active">Rate & Review</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>

      <div class="mobile-menu">
        <a href="index.html">Home</a>
        <a href="about.html">About</a>
        <a href="tours.html" class="tour-highlight">Tour Packages</a>
        <a href="gallery.html">Gallery</a>
        <a href="testimonials.html">Testimonials</a>
        <a href="review.html">Rate & Review</a>
        <a href="contact.html">Contact</a>
      </div>
    </div>
  </nav>

  <!-- Main content wrapper to center the review card -->
  <div class="main-content">
    <div class="review-card">
      <h2 class="review-heading"> Give Your Valuable Review <br>
        <span>for Tourist Guide Narendra Kumar Verma</span>
      </h2>
      
      <form id="reviewForm">
        <div class="form-group">
          <input type="text" id="name" placeholder=" " required>
          <label for="name">Your Name</label>
        </div>
        
        <div class="form-group">
          <input type="email" id="email" placeholder=" " required>
          <label for="email">Your Email</label>
        </div>
        
        <label class="rating-label">Rate your Experience</label>
        <div class="form-group rating">
          
          <div id="starRating">
            <span class="stars" data-value="1">★</span>
            <span class="stars" data-value="2">★</span>
            <span class="stars" data-value="3">★</span>
            <span class="stars" data-value="4">★</span>
            <span class="stars" data-value="5">★</span>
          </div>
          <div class="rating-text" id="ratingFeedback"></div>
          <div class="error-message" id="ratingError">Please select a star rating!</div>
        </div>
        
        <div class="form-group">
          <textarea id="review" rows="4" placeholder=" " required maxlength="500"></textarea>
          <label for="review">Write your review...</label>
          <div class="char-counter" id="charCounter">0 / 500 characters</div>
        </div>
        
        <button type="submit" class="submit-btn" id="submitBtn">
          <span class="button-text">🚀 Submit Review</span>
          <div class="spinner"></div>
        </button>
      </form>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="footer">
  <div class="footer-container">

    <!-- Column 1: Logo + About -->
    <div class="footer-col">
      <img src="images/logo.jpg" alt="Travel Heights Logo" class="footer-logo">
      <h3>Travel Heights</h3>
      <p>
        Discover Agra with certified guide <strong>Narendra Kumar Verma</strong>. 
        Personalized tours, cultural walks, and unforgettable travel experiences.
      </p>
      <p><i class="fa fa-map-marker"></i> Agra, India</p>
      <p><i class="fa fa-phone"></i> +91 9557824127</p>
      <p><i class="fa fa-envelope"></i> travelhghts98@gmail.com</p>

      <div class="footer-social">
        <a href="https://www.instagram.com/" target="_blank"><i class="fab fa-instagram"></i></a>
        <a href="mailto:travelhghts98@gmail.com"><i class="fa fa-envelope"></i></a>
        <a href="https://www.facebook.com/" target="_blank"><i class="fab fa-facebook"></i></a>
      </div>
    </div>

    <!-- Column 2: Quick Links -->
    <div class="footer-col">
      <h4>Quick Links</h4>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About Us</a></li>
        <li><a href="tours.html">Tour Packages</a></li>
        <li><a href="gallery.html">Gallery</a></li>
        <li><a href="review.html">Review</a></li>
        <li><a href="contact.html">Contact Us</a></li>
      </ul>
    </div>

    <!-- Column 3: Popular Tours -->
    <div class="footer-col">
      <h4>Popular Tours</h4>
      <ul>
        <li>Same Day Agra Tour by Car</li>
        <li>Same Day Agra Tour by Gatimaan Express</li>
        <li>Same Day Agra Tour by Shatabdi Express</li>
        <li>Agra Sunrise Tour by Car</li>
      </ul>
    </div>

  </div>

  <div class="footer-bottom">
    <p>&copy; 2025 Narendra Kumar Verma. All rights reserved.</p>
  </div>
</footer>

  <div id="popup" class="popup"></div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <script>
    // Navigation mobile menu
const toggle = document.querySelector('.menu-toggle'),
      mobile = document.querySelector('.mobile-menu');
if (toggle && mobile) {
  toggle.addEventListener('click', function () {
    mobile.classList.toggle('open');
    toggle.setAttribute('aria-expanded', mobile.classList.contains('open'));
    // Only hide body overflow when mobile menu is open
    document.body.style.overflow = mobile.classList.contains('open') ? "hidden" : "";
  });
  mobile.querySelectorAll('a').forEach(function (link) {
    link.addEventListener('click', function () {
      mobile.classList.remove('open');
      toggle.setAttribute('aria-expanded', "false");
      document.body.style.overflow = ""; // Restore body overflow
    });
  });
}
  </script>
<script>
  const supabaseUrl = "https://jnmgzahwlztahadtgklx.supabase.co";  // e.g. https://xyzcompany.supabase.co
  const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpubWd6YWh3bHp0YWhhZHRna2x4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1MTk1ODEsImV4cCI6MjA3MTA5NTU4MX0.PaMY3eW0OhXie33fp1vf_pygQNude8T6u9mJFvlTSmQ";
  const supabaseClient = supabase.createClient(supabaseUrl, supabaseKey);

  const stars = document.querySelectorAll(".stars");
  const starRatingContainer = document.getElementById("starRating");
  const ratingFeedback = document.getElementById("ratingFeedback");
  const ratingError = document.getElementById("ratingError");
  const reviewTextarea = document.getElementById("review");
  const charCounter = document.getElementById("charCounter");
  const form = document.getElementById("reviewForm");
  const popup = document.getElementById("popup");
  const submitBtn = document.getElementById("submitBtn");
  const submitBtnText = submitBtn.querySelector(".button-text");
  const spinner = submitBtn.querySelector(".spinner");

  let selectedRating = 0;
  const ratingMessages = ["","Poor","Fair","Good","Very Good","Excellent"];

  // ⭐ Rating logic
  starRatingContainer.addEventListener("click", e => {
    if(e.target.classList.contains("stars")){
      selectedRating = +e.target.dataset.value;
      stars.forEach((s,i)=>s.classList.toggle("active",i<selectedRating));
      ratingFeedback.textContent = ratingMessages[selectedRating];
      ratingError.classList.remove("show");
    }
  });

  // ✍️ Char counter
  reviewTextarea.addEventListener("input",()=>{
    charCounter.textContent = `${reviewTextarea.value.length} / ${reviewTextarea.maxLength}`;
  });

  // 🚀 Form submit
  form.addEventListener("submit", async (e)=>{
    e.preventDefault();
    popup.classList.remove("show");

    if(selectedRating === 0){
      ratingError.classList.add("show");
      popup.textContent="⚠️ Please select a star rating!";
      popup.style.background="#d93025";
      popup.classList.add("show");
      setTimeout(()=>popup.classList.remove("show"),3000);
      return;
    }

    submitBtn.classList.add("loading");
    spinner.style.display="block";
    submitBtnText.style.visibility="hidden";

    const { data, error } = await supabaseClient.from("reviews").insert([
      {
        name: document.getElementById("name").value,
        email: document.getElementById("email").value,
        rating: selectedRating,
        review: reviewTextarea.value
      }
    ]);

    submitBtn.classList.remove("loading");
    spinner.style.display="none";
    submitBtnText.style.visibility="visible";

    if(error){
      popup.textContent = "❌ Error: " + error.message;
      popup.style.background="#d93025";
    } else {
      popup.textContent="✅ Review Submitted Successfully!";
      popup.style.background="#1e8e3e";
      form.reset();
      stars.forEach(s=>s.classList.remove("active","hover"));
      selectedRating=0;
      ratingFeedback.textContent="";
      charCounter.textContent="0 / 500";
    }

    popup.classList.add("show");
    setTimeout(()=>popup.classList.remove("show"),3000);
  });
</script>

</body>
</html>
